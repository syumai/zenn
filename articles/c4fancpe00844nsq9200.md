---
title: "ãƒ•ãƒ©ã‚°ä»˜ãã®Go 1.17ã§Genericsã¯ã©ã“ã¾ã§å‹•ãã®ã‹"
emoji: "ï¸ğŸ„"
type: "tech"
topics: ["go", "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°"]
published: false
---

æœ¬è¨˜äº‹ã¯[Go 1.17 ãƒªãƒªãƒ¼ã‚¹ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼](https://gocon.connpass.com/event/216361/)ã«ã¦ç™ºè¡¨ã—ãŸå†…å®¹ã‚’æ–‡æ›¸åŒ–ã—ãŸã‚‚ã®ã§ã™ã€‚

# Go 1.17ãƒªãƒªãƒ¼ã‚¹

2021å¹´8æœˆ16æ—¥ã€[Go 1.17](https://go.dev/blog/go1.17)ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¾ã—ãŸã€‚

Go 1.17ã®ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã«ã¯ã€Genericsã®é–¢é€£æ©Ÿèƒ½ã«ã¤ã„ã¦è¨˜è¼‰ã•ã‚Œã¦ãŠã‚‰ãšã€æ­£å¼ãªãƒªãƒªãƒ¼ã‚¹å†…å®¹ã¨ã—ã¦ã¯å«ã¾ã‚Œã¦ã„ãªã„ã¨è¨€ã†è©±ã§ã—ãŸã€‚

## ãªã‚“ã¨ã€Go 1.17 RC1ã§ã‚‚ä¸€éƒ¨GenericsãŒå‹•ã„ã¦ã„ãŸ


## Go 1.17ã®ãƒªãƒªãƒ¼ã‚¹å¾Œã«åŒã˜ãƒ•ãƒ©ã‚°ä»˜ãã§å®Ÿè¡Œã—ãŸã‚‰ãªã‚“ã¨å‹•ã„ãŸ


ã“ã‚Œã§å‹•ãã¾ã™

```sh
go install golang.org/dl/go1.17@latest
go1.17 download
go1.17 run -gcflags="-G=3" main.go
```


## ã©ã“ã¾ã§å‹•ãã‹è©¦ã—ã¦ã¿ã‚‹


## ç¢ºèªã—ãŸã„ã‚‚ã®

1. Type Parameters
   - å‹å®£è¨€
   - é–¢æ•°å®£è¨€
   - å‹æ¨è«–
2. Interface
   - äº‹å‰å®£è¨€ã•ã‚ŒãŸconstraints
     - any, comparable
   - type list (type sets proposalã§å»ƒæ­¢)
   - type set
3. æ¨™æº–package
   - constraints
   - slices
   - maps


## æ³¨æ„

* ç°¡å˜ã«è©¦ã—ãŸã ã‘ã®å†…å®¹ãªã®ã§ã€æ­£ç¢ºã§ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™
* å‹•ãã‹ã‚‰ã¨ã„ã£ã¦ã€æ¥­å‹™ã«ä½¿ã†ã¨ä»Šå¾Œã®ä»•æ§˜å¤‰æ›´ã§å‹•ã‹ãªããªã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã§ã™


## Interface => æ¨™æº–package => Type Parameters ã®é †ã§æ¤œè¨¼ã—ã¾ã™


### Interface
  - äº‹å‰å®£è¨€ã•ã‚ŒãŸconstraints
    - any, comparable
  - type list (type sets proposalã§å»ƒæ­¢)
  - type set


### æ¨™æº–package
  - constraints
  - slices
  - maps


### Type Parameters
  - å‹å®£è¨€
  - é–¢æ•°å®£è¨€
  - å‹æ¨è«–
    - Function type inference
    - Constraint type inference


# çµæœ


## ä»•æ§˜ã¨ã—ã¦ã¯å¤ã„ã‚‚ã®ã®ã€ãã‚Œãªã‚Šã«å‹•ã„ãŸ


# ãŠã¾ã‘


## Genericsã®é–‹ç™ºbranchã®å†…å®¹ãŒmasterã«ãƒãƒ¼ã‚¸ã•ã‚ŒãŸã‚‰ã—ã„


ã“ã‚Œã§æœ€æ–°ã®masterã®å®Ÿè£…å†…å®¹ãŒå‹•ãã¾ã™

```sh
go install golang.org/dl/gotip@latest
gotip download # masterã‚’downloadã—ã¦ãã‚Œã‚‹
GOEXPERIMENT=unified gotip run main.go
```

`GOEXPERIMENT=unified` ã¯zcheeã•ã‚“ã«æ•™ãˆã¦ã‚‚ã‚‰ã£ãŸtenntennã•ã‚“ã«æ•™ãˆã¦ã‚‚ã‚‰ã„ã¾ã—ãŸ


## æœ€æ–°ã®masterã§ã¯type setã‚‚å‹•ãã¾ã—ãŸï¼


